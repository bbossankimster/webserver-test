#  webserver-test

## Краткое описание основного функционала

webserver-test - проект, в котором показаны задачи из моей текущей работы и решения, которые я релизовал.

Ядро проекта - классы CommonWebserverTest, WebserverTestWithLogs

Основной функционал:
- отправка HTTP запросов по списку URL
- обработка кодов ответа
- сбор логов с веб серверов и отправка отчетов

Проект можно отнести к классу OAM tools для системных инженеров и отдела поддержки.


P.S. Название сервисов, тестовых страниц, клиентов приведены только для демонстрации функционала проекта.
<br/>Данные не связаны с тем, что у меня в продакшене

![](images/short_description.png)

## Задачи, которые решает проект

Моя фирма подключает и настривает сервера по всему миру.
<br/>Несколько тысяч серверов и виртуальных машин, несколько тысяч клиентов.
<br/>Веб-сервер и веб сервис в этом проекте представлены для демонстрации.

Веб-сервис клиента развернут на нескольких серверах для балансировки нагрузки и резервирования.
<br/>Система мониторинга (Icinga, Zabbix, Prometheus и т.д.) регистрируют события отдельного сервера.
<br/>На уровне nginx проверяется доступность порта 80/443, на уровне сервера проверяется ping и т.д.
<br/>


- Задача 1: автоматизация проверки качества веб сервисов в случае аварийных оповещений от системы мониторинга

В нашей системе мониторинга события из Icinga/Zabbix/Prometheus не агрегированы по клиентам и сервисам.
<br/>Для проверки измений качества веб сервисов клиентов приходится тратить время на сбор, группировку, обобщение данных.

Пример: Icinga показывает, что 10 серверов отключились, и WEB сервис перестал работать.
<br/>Что это значит? Затронет ли это клиента А или клиента Б? Критическое это отключение или нет?
<br/>Как реагировать группе мониторинга и т.д.

С помощью проверки WEB сервисов по всем клиентам можно проверить, какие изменения произошли.


- Проблема 2.1: мониторинг качества сервиса на разных серверах, для разных клиентов

- Проблема 2.2: мониторинг качества сервисов одного клиента

Необходимость таких проверок возникает:
- по запросу клиента в отдел поддержки (если клиент наблюдает ухудшение качества)
- во время планового обновления софта на для сервисов конкретного клиента или для конкретныз сервисов всех клиентов

Базовый класс webserver-test выполняет тестирование WEB сервисов в группе серверов клиентов, агрегирует результат про группе серверов/сервису
<br/>Расширенный класс собирает логи с веб серверов, выдает отчет с результами на email и skype в зависимости от уровня критичности вывленных ошибок.
<br/>Тестирование выполняется с помощью асинхронной отправки http запроса на тестовую страницу сервиса.


![](images/detailed_model.png)
